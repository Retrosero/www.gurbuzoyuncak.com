{"openapi": "3.0.3", "info": {"title": "Gürbüz Oyuncak Mobile API", "description": "Türkiye'nin güvenilir oyuncak e-ticaret platformu için Mobile API dokümantasyonu. Bu API, mobil uygulama ve PWA için optimize edilmiştir.", "version": "1.0.0", "contact": {"name": "Gürbüz Oyuncak API Support", "email": "api@gurbuzoyuncak.com"}, "license": {"name": "MIT", "url": "https://opensource.org/licenses/MIT"}}, "servers": [{"url": "https://your-project.supabase.co/functions/v1/mobile-api-gateway", "description": "Production Server"}], "security": [{"BearerAuth": []}], "paths": {"/api/v1/products": {"get": {"summary": "Ürün listesi getir", "description": "Filtreleme, arama ve sıralama özellikleri ile ürünleri listeler", "tags": ["Products"], "parameters": [{"name": "page", "in": "query", "description": "Sayfa numarası", "schema": {"type": "integer", "minimum": 1, "default": 1}}, {"name": "limit", "in": "query", "description": "Sayfa başına ürün sayısı", "schema": {"type": "integer", "minimum": 1, "maximum": 100, "default": 20}}, {"name": "category", "in": "query", "description": "Kategori ID'si", "schema": {"type": "string"}}, {"name": "search", "in": "query", "description": "Arama terimi", "schema": {"type": "string", "maxLength": 100}}, {"name": "sort", "in": "query", "description": "Sıralama alanı", "schema": {"type": "string", "enum": ["created_at", "price", "name"], "default": "created_at"}}, {"name": "order", "in": "query", "description": "Sıralama yönü", "schema": {"type": "string", "enum": ["asc", "desc"], "default": "desc"}}], "responses": {"200": {"description": "Başarılı", "content": {"application/json": {"schema": {"type": "object", "properties": {"data": {"type": "array", "items": {"$ref": "#/components/schemas/Product"}}}, "pagination": {"$ref": "#/components/schemas/Pagination"}, "timestamp": {"type": "string", "format": "date-time"}}}}}, "400": {"$ref": "#/components/responses/BadRequest"}, "500": {"$ref": "#/components/responses/InternalServerError"}}}, "post": {"summary": "Yeni ürün oluştur", "description": "Admin ve bayi kullanıcılar için yeni ürün oluşturur", "tags": ["Products"], "security": [{"BearerAuth": []}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/CreateProductRequest"}}}}, "responses": {"201": {"description": "Ürün oluşturuldu", "content": {"application/json": {"schema": {"type": "object", "properties": {"data": {"$ref": "#/components/schemas/Product"}, "message": {"type": "string"}, "timestamp": {"type": "string", "format": "date-time"}}}}}}, "400": {"$ref": "#/components/responses/BadRequest"}, "401": {"$ref": "#/components/responses/Unauthorized"}, "403": {"$ref": "#/components/responses/Forbidden"}, "500": {"$ref": "#/components/responses/InternalServerError"}}}}, "/api/v1/products/{id}": {"get": {"summary": "Ürün detayı getir", "description": "Belirli bir ürünün detaylarını getirir", "tags": ["Products"], "parameters": [{"name": "id", "in": "path", "required": true, "description": "Ürün ID", "schema": {"type": "string"}}], "responses": {"200": {"description": "Başarılı", "content": {"application/json": {"schema": {"type": "object", "properties": {"data": {"$ref": "#/components/schemas/Product"}, "timestamp": {"type": "string", "format": "date-time"}}}}}}, "404": {"$ref": "#/components/responses/NotFound"}, "500": {"$ref": "#/components/responses/InternalServerError"}}}, "put": {"summary": "Ürün güncelle", "description": "Ürün bilgilerini günceller", "tags": ["Products"], "security": [{"BearerAuth": []}], "parameters": [{"name": "id", "in": "path", "required": true, "description": "Ürün ID", "schema": {"type": "string"}}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"$ref": "#/components/schemas/UpdateProductRequest"}}}}, "responses": {"200": {"description": "Güncellendi", "content": {"application/json": {"schema": {"type": "object", "properties": {"data": {"$ref": "#/components/schemas/Product"}, "message": {"type": "string"}, "timestamp": {"type": "string", "format": "date-time"}}}}}}, "400": {"$ref": "#/components/responses/BadRequest"}, "401": {"$ref": "#/components/responses/Unauthorized"}, "403": {"$ref": "#/components/responses/Forbidden"}, "404": {"$ref": "#/components/responses/NotFound"}, "500": {"$ref": "#/components/responses/InternalServerError"}}}, "delete": {"summary": "Ürün sil", "description": "Ürünü soft delete ile siler (pasif duruma getirir)", "tags": ["Products"], "security": [{"BearerAuth": []}], "parameters": [{"name": "id", "in": "path", "required": true, "description": "Ürün ID", "schema": {"type": "string"}}], "responses": {"200": {"description": "Silindi", "content": {"application/json": {"schema": {"type": "object", "properties": {"message": {"type": "string"}, "timestamp": {"type": "string", "format": "date-time"}}}}}}, "401": {"$ref": "#/components/responses/Unauthorized"}, "403": {"$ref": "#/components/responses/Forbidden"}, "404": {"$ref": "#/components/responses/NotFound"}, "500": {"$ref": "#/components/responses/InternalServerError"}}}}, "/api/v1/categories": {"get": {"summary": "Kategorileri listele", "description": "Tüm ürün kategorilerini listeler", "tags": ["Categories"], "responses": {"200": {"description": "Başarılı", "content": {"application/json": {"schema": {"type": "object", "properties": {"data": {"type": "array", "items": {"$ref": "#/components/schemas/Category"}}, "timestamp": {"type": "string", "format": "date-time"}}}}}}, "500": {"$ref": "#/components/responses/InternalServerError"}}}}, "/api/v1/categories/{id}": {"get": {"summary": "Kategori detayı", "description": "Belirli bir kategorinin detaylarını getirir", "tags": ["Categories"], "parameters": [{"name": "id", "in": "path", "required": true, "description": "Kategori ID", "schema": {"type": "string"}}], "responses": {"200": {"description": "Başarılı", "content": {"application/json": {"schema": {"type": "object", "properties": {"data": {"$ref": "#/components/schemas/Category"}, "timestamp": {"type": "string", "format": "date-time"}}}}}}, "404": {"$ref": "#/components/responses/NotFound"}, "500": {"$ref": "#/components/responses/InternalServerError"}}}}, "/api/v1/auth/login": {"post": {"summary": "Kullanıcı girişi", "description": "E-posta ve şifre ile kullanıcı girişi yapar", "tags": ["Authentication"], "requestBody": {"required": true, "content": {"application/json": {"schema": {"type": "object", "required": ["email", "password"], "properties": {"email": {"type": "string", "format": "email", "description": "E-posta adresi"}, "password": {"type": "string", "format": "password", "description": "Şifre", "minLength": 6}}}}}}, "responses": {"200": {"description": "Giriş başarılı", "content": {"application/json": {"schema": {"type": "object", "properties": {"data": {"type": "object", "properties": {"user": {"$ref": "#/components/schemas/User"}, "session": {"$ref": "#/components/schemas/Session"}}}, "message": {"type": "string"}, "timestamp": {"type": "string", "format": "date-time"}}}}}}, "400": {"$ref": "#/components/responses/BadRequest"}, "401": {"$ref": "#/components/responses/Unauthorized"}, "500": {"$ref": "#/components/responses/InternalServerError"}}}}, "/api/v1/auth/register": {"post": {"summary": "Kullanıcı kaydı", "description": "Yeni kullanıcı hesabı oluşturur", "tags": ["Authentication"], "requestBody": {"required": true, "content": {"application/json": {"schema": {"type": "object", "required": ["email", "password", "full_name"], "properties": {"email": {"type": "string", "format": "email", "description": "E-posta adresi"}, "password": {"type": "string", "format": "password", "description": "Şifre (min 6 karakter)", "minLength": 6}, "full_name": {"type": "string", "description": "Tam ad", "minLength": 2}, "phone": {"type": "string", "description": "Telefon numarası"}, "role": {"type": "string", "enum": ["customer", "dealer"], "default": "customer", "description": "Kullanıcı rolü"}}}}}}, "responses": {"201": {"description": "Kayıt başarılı", "content": {"application/json": {"schema": {"type": "object", "properties": {"data": {"type": "object", "properties": {"user": {"$ref": "#/components/schemas/User"}}}, "message": {"type": "string"}, "timestamp": {"type": "string", "format": "date-time"}}}}}}, "400": {"$ref": "#/components/responses/BadRequest"}, "409": {"description": "E-posta zaten kayıtlı", "content": {"application/json": {"schema": {"type": "object", "properties": {"error": {"type": "string"}}}}}}, "500": {"$ref": "#/components/responses/InternalServerError"}}}}, "/api/v1/cart": {"get": {"summary": "Sepet içeriği", "description": "Kullanıcının sepetindeki ürünleri getirir", "tags": ["Cart"], "security": [{"BearerAuth": []}], "responses": {"200": {"description": "Başarılı", "content": {"application/json": {"schema": {"type": "object", "properties": {"data": {"type": "object", "properties": {"items": {"type": "array", "items": {"$ref": "#/components/schemas/CartItem"}}, "totals": {"$ref": "#/components/schemas/CartTotals"}}}}, "timestamp": {"type": "string", "format": "date-time"}}}}}}, "401": {"$ref": "#/components/responses/Unauthorized"}, "500": {"$ref": "#/components/responses/InternalServerError"}}}}, "/api/v1/cart/items": {"post": {"summary": "Sepete ürün ekle", "description": "Sepete yeni ürün ekler veya miktarı artırır", "tags": ["Cart"], "security": [{"BearerAuth": []}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"type": "object", "required": ["productId"], "properties": {"productId": {"type": "string", "description": "Ürün ID"}, "quantity": {"type": "integer", "minimum": 1, "default": 1, "description": "Adet"}}}}}}, "responses": {"201": {"description": "Ürün sepete eklendi", "content": {"application/json": {"schema": {"type": "object", "properties": {"data": {"$ref": "#/components/schemas/CartItem"}, "message": {"type": "string"}, "timestamp": {"type": "string", "format": "date-time"}}}}}}, "400": {"$ref": "#/components/responses/BadRequest"}, "401": {"$ref": "#/components/responses/Unauthorized"}, "404": {"description": "Ürün bulunamadı veya stok yetersiz", "content": {"application/json": {"schema": {"type": "object", "properties": {"error": {"type": "string"}, "available_stock": {"type": "integer"}}}}}}, "500": {"$ref": "#/components/responses/InternalServerError"}}}}, "/api/v1/favorites": {"get": {"summary": "Favoriler listesi", "description": "Kullanıcının favori ürünlerini getirir", "tags": ["Favorites"], "security": [{"BearerAuth": []}], "responses": {"200": {"description": "Başarılı", "content": {"application/json": {"schema": {"type": "object", "properties": {"data": {"type": "array", "items": {"$ref": "#/components/schemas/Product"}}, "timestamp": {"type": "string", "format": "date-time"}}}}}}, "401": {"$ref": "#/components/responses/Unauthorized"}, "500": {"$ref": "#/components/responses/InternalServerError"}}}, "post": {"summary": "Favorilere ekle", "description": "Ürünü favorilere ekler", "tags": ["Favorites"], "security": [{"BearerAuth": []}], "requestBody": {"required": true, "content": {"application/json": {"schema": {"type": "object", "required": ["productId"], "properties": {"productId": {"type": "string", "description": "Ürün ID"}}}}}}, "responses": {"201": {"description": "Favorilere eklendi", "content": {"application/json": {"schema": {"type": "object", "properties": {"message": {"type": "string"}, "timestamp": {"type": "string", "format": "date-time"}}}}}}, "400": {"$ref": "#/components/responses/BadRequest"}, "401": {"$ref": "#/components/responses/Unauthorized"}, "409": {"description": "Ürün zaten favorilerde", "content": {"application/json": {"schema": {"type": "object", "properties": {"error": {"type": "string"}}}}}}, "500": {"$ref": "#/components/responses/InternalServerError"}}}}, "/api/v1/favorites/{productId}": {"delete": {"summary": "Favorilerden çıkar", "description": "Ürünü favorilerden çıkarır", "tags": ["Favorites"], "security": [{"BearerAuth": []}], "parameters": [{"name": "productId", "in": "path", "required": true, "description": "Ürün ID", "schema": {"type": "string"}}], "responses": {"200": {"description": "Favorilerden çıkarıldı", "content": {"application/json": {"schema": {"type": "object", "properties": {"message": {"type": "string"}, "timestamp": {"type": "string", "format": "date-time"}}}}}}, "401": {"$ref": "#/components/responses/Unauthorized"}, "404": {"description": "Ürün favorilerde bulunamadı", "content": {"application/json": {"schema": {"type": "object", "properties": {"error": {"type": "string"}}}}}}, "500": {"$ref": "#/components/responses/InternalServerError"}}}}, "/api/v1/search": {"get": {"summary": "Ürün arama", "description": "Ürün adı, açıklama ve markaya göre arama yapar", "tags": ["Search"], "parameters": [{"name": "q", "in": "query", "required": true, "description": "Arama terimi", "schema": {"type": "string", "maxLength": 100}}], "responses": {"200": {"description": "Arama sonuçları", "content": {"application/json": {"schema": {"type": "object", "properties": {"data": {"type": "array", "items": {"$ref": "#/components/schemas/Product"}}, "timestamp": {"type": "string", "format": "date-time"}}}}}}, "400": {"$ref": "#/components/responses/BadRequest"}, "500": {"$ref": "#/components/responses/InternalServerError"}}}}}, "components": {"securitySchemes": {"BearerAuth": {"type": "http", "scheme": "bearer", "bearerFormat": "JWT"}}, "schemas": {"Product": {"type": "object", "properties": {"id": {"type": "string", "description": "Ürün ID"}, "name": {"type": "string", "description": "Ürün adı"}, "description": {"type": "string", "description": "Ürün açıklaması"}, "price": {"type": "number", "minimum": 0, "description": "Normal fiyat"}, "sale_price": {"type": "number", "minimum": 0, "description": "İndirimli fiyat"}, "category_id": {"type": "string", "description": "Kategori ID"}, "brand": {"type": "string", "description": "Marka"}, "stock_quantity": {"type": "integer", "minimum": 0, "description": "Stok adedi"}, "status": {"type": "string", "enum": ["active", "inactive"], "description": "Ürün durumu"}, "images": {"type": "array", "items": {"type": "string"}, "description": "Ürün resim URL'leri"}, "sku": {"type": "string", "description": "Stok kodu"}, "tags": {"type": "array", "items": {"type": "string"}, "description": "Ürün etiketleri"}, "created_at": {"type": "string", "format": "date-time", "description": "Oluşturulma tarihi"}, "updated_at": {"type": "string", "format": "date-time", "description": "Güncellenme tarihi"}, "categories": {"$ref": "#/components/schemas/Category"}}, "required": ["id", "name", "price", "status", "created_at"]}, "Category": {"type": "object", "properties": {"id": {"type": "string", "description": "Kategori ID"}, "name": {"type": "string", "description": "Kategori adı"}, "description": {"type": "string", "description": "Kategori açıklaması"}, "parent_id": {"type": "string", "nullable": true, "description": "Ana kategori ID"}, "image": {"type": "string", "description": "Kategori resmi"}, "sort_order": {"type": "integer", "description": "Sıralama"}, "status": {"type": "string", "enum": ["active", "inactive"], "description": "Kategori durumu"}, "created_at": {"type": "string", "format": "date-time"}, "updated_at": {"type": "string", "format": "date-time"}}, "required": ["id", "name", "status"]}, "User": {"type": "object", "properties": {"id": {"type": "string", "description": "Kullanıcı ID"}, "email": {"type": "string", "format": "email", "description": "E-posta adresi"}, "role": {"type": "string", "enum": ["customer", "dealer", "admin"], "description": "Kullanıcı rolü"}, "name": {"type": "string", "description": "Tam ad"}, "full_name": {"type": "string", "description": "Tam ad (alternatif)"}, "phone": {"type": "string", "description": "Telefon numarası"}}, "required": ["id", "email", "role"]}, "Session": {"type": "object", "properties": {"access_token": {"type": "string", "description": "Erişim token'ı"}, "refresh_token": {"type": "string", "description": "Yenileme token'ı"}, "expires_at": {"type": "integer", "description": "Token bitiş zamanı (timestamp)"}}, "required": ["access_token", "refresh_token"]}, "CartItem": {"type": "object", "properties": {"id": {"type": "string", "description": "Sepet öğesi ID"}, "quantity": {"type": "integer", "minimum": 1, "description": "Adet"}, "unit_price": {"type": "number", "description": "Birim fiyat"}, "total_price": {"type": "number", "description": "Toplam fiyat"}, "products": {"$ref": "#/components/schemas/Product"}, "created_at": {"type": "string", "format": "date-time"}, "updated_at": {"type": "string", "format": "date-time"}}, "required": ["id", "quantity", "products"]}, "CartTotals": {"type": "object", "properties": {"subtotal": {"type": "number", "minimum": 0, "description": "Ara toplam"}, "item_count": {"type": "integer", "minimum": 0, "description": "Ürün adedi"}, "estimated_total": {"type": "number", "minimum": 0, "description": "Tahmini toplam"}}, "required": ["subtotal", "item_count", "estimated_total"]}, "Pagination": {"type": "object", "properties": {"page": {"type": "integer", "minimum": 1, "description": "Mevcut sayfa"}, "limit": {"type": "integer", "minimum": 1, "description": "Sayfa başına ürün sayısı"}, "total": {"type": "integer", "minimum": 0, "description": "Toplam kayıt sayısı"}, "totalPages": {"type": "integer", "minimum": 0, "description": "Toplam sayfa sayısı"}}, "required": ["page", "limit", "total", "totalPages"]}, "CreateProductRequest": {"type": "object", "required": ["name", "price", "category_id"], "properties": {"name": {"type": "string", "minLength": 1, "maxLength": 255, "description": "Ürün adı"}, "description": {"type": "string", "description": "Ürün açıklaması"}, "price": {"type": "number", "minimum": 0, "description": "Normal fiyat"}, "sale_price": {"type": "number", "minimum": 0, "description": "İndirimli fiyat"}, "category_id": {"type": "string", "description": "Kategori ID"}, "brand": {"type": "string", "description": "Marka"}, "stock_quantity": {"type": "integer", "minimum": 0, "default": 0, "description": "Stok adedi"}, "status": {"type": "string", "enum": ["active", "inactive"], "default": "active", "description": "Ürün durumu"}, "sku": {"type": "string", "description": "Stok kodu"}, "tags": {"type": "array", "items": {"type": "string"}, "description": "Ürün etiketleri"}, "images": {"type": "array", "items": {"type": "string"}, "description": "Ürün resim URL'leri"}}}, "UpdateProductRequest": {"type": "object", "properties": {"name": {"type": "string", "minLength": 1, "maxLength": 255, "description": "Ürün adı"}, "description": {"type": "string", "description": "Ürün açıklaması"}, "price": {"type": "number", "minimum": 0, "description": "Normal fiyat"}, "sale_price": {"type": "number", "minimum": 0, "description": "İndirimli fiyat"}, "category_id": {"type": "string", "description": "Kategori ID"}, "brand": {"type": "string", "description": "Marka"}, "stock_quantity": {"type": "integer", "minimum": 0, "description": "Stok adedi"}, "status": {"type": "string", "enum": ["active", "inactive"], "description": "Ürün durumu"}, "sku": {"type": "string", "description": "Stok kodu"}, "tags": {"type": "array", "items": {"type": "string"}, "description": "Ürün etiketleri"}, "images": {"type": "array", "items": {"type": "string"}, "description": "Ürün resim URL'leri"}}}}, "responses": {"BadRequest": {"description": "Geçersiz istek", "content": {"application/json": {"schema": {"type": "object", "properties": {"error": {"type": "string", "description": "Hata mesajı"}, "timestamp": {"type": "string", "format": "date-time"}}}}}}, "Unauthorized": {"description": "Yetkisiz erişim", "content": {"application/json": {"schema": {"type": "object", "properties": {"error": {"type": "string", "description": "Yetkilendirme gerekli"}, "timestamp": {"type": "string", "format": "date-time"}}}}}}, "Forbidden": {"description": "Yasak", "content": {"application/json": {"schema": {"type": "object", "properties": {"error": {"type": "string", "description": "Bu işlem için yetkiniz yok"}, "timestamp": {"type": "string", "format": "date-time"}}}}}}, "NotFound": {"description": "Bulunamadı", "content": {"application/json": {"schema": {"type": "object", "properties": {"error": {"type": "string", "description": "Kayıt bulunamadı"}, "timestamp": {"type": "string", "format": "date-time"}}}}}}, "InternalServerError": {"description": "Sunucu hatası", "content": {"application/json": {"schema": {"type": "object", "properties": {"error": {"type": "string", "description": "İç sunucu hatası"}, "timestamp": {"type": "string", "format": "date-time"}}}}}}}}, "tags": [{"name": "Products", "description": "Ürün yönetimi işlemleri"}, {"name": "Categories", "description": "Kategori yönetimi işlemleri"}, {"name": "Authentication", "description": "Kullanıcı kimlik doğrulama"}, {"name": "Cart", "description": "Alışveriş sepeti işlemleri"}, {"name": "Favorites", "description": "Favoriler işlemleri"}, {"name": "Search", "description": "Ürün arama işlemleri"}], "externalDocs": {"description": "API hakkında daha fazla bilgi", "url": "https://docs.gurbuzoyuncak.com"}}